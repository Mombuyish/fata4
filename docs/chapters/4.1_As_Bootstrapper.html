
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>4.1 As Bootstrapper 他是引导程序 · Laravel - 从百草园到三味书屋</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="original Taylor Otwell, translate zgldh">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="4.2_As_Organizer.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Author's_Note.html">
            
                <a href="Author's_Note.html">
            
                    
                    Author's Note 作者自序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    1 Dependency Injection 依赖注入
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="1.1_The_Problem.html">
            
                <a href="1.1_The_Problem.html">
            
                    
                    1.1 The Problem 遇到的问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="1.2_Build_A_Contract.html">
            
                <a href="1.2_Build_A_Contract.html">
            
                    
                    1.2 Build A Contract 建立约定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="1.3_Take_It_further.html">
            
                <a href="1.3_Take_It_further.html">
            
                    
                    1.3 Take It further 更进一步
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="1.4_Too_Much_Java.html">
            
                <a href="1.4_Too_Much_Java.html">
            
                    
                    1.4 Too Much Java? 太像Java了？
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    2 The IoC Container 控制反转容器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="2.1_Basic_Binding.html">
            
                <a href="2.1_Basic_Binding.html">
            
                    
                    2.1 Basic Binding 基础绑定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="2.2_Reflective_Resolution.html">
            
                <a href="2.2_Reflective_Resolution.html">
            
                    
                    2.2 Reflective Resolution 反射解决方案
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    3 Interface As Contract 接口约定
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="3.1_Strong_Typing_&_Water_Fowl.html">
            
                <a href="3.1_Strong_Typing_&_Water_Fowl.html">
            
                    
                    3.1 Strong Typing & Water Fowl 强类型和小鸭子
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="3.2_A_Contract_Example.html">
            
                <a href="3.2_A_Contract_Example.html">
            
                    
                    3.2 A Contract Example 约定的范例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="3.3_Interface_&_Team_Development.html">
            
                <a href="3.3_Interface_&_Team_Development.html">
            
                    
                    3.3 Interface & Team Development 接口与团队开发
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    4 Service Provider 服务提供者
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.6.1" data-path="4.1_As_Bootstrapper.html">
            
                <a href="4.1_As_Bootstrapper.html">
            
                    
                    4.1 As Bootstrapper 他是引导程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="4.2_As_Organizer.html">
            
                <a href="4.2_As_Organizer.html">
            
                    
                    4.2 As Organizer 作为管理工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="4.3_Booting_Providers.html">
            
                <a href="4.3_Booting_Providers.html">
            
                    
                    4.3 Booting Providers 服务提供者的启动过程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="4.4_Providing_The_Core.html">
            
                <a href="4.4_Providing_The_Core.html">
            
                    
                    4.4 Providing The Core 核心也是服务提供者的模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    5 Application Structure 应用结构
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="5.1_Introduction.html">
            
                <a href="5.1_Introduction.html">
            
                    
                    5.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="5.2_MVC_Is_Killing_You.html">
            
                <a href="5.2_MVC_Is_Killing_You.html">
            
                    
                    5.2 MVC Is Killing You MVC是慢性谋杀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="5.3_Bye_Models.html">
            
                <a href="5.3_Bye_Models.html">
            
                    
                    5.3 Bye, Bye Models 再见，模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="5.4_It's_All_About_The_Layers.html">
            
                <a href="5.4_It's_All_About_The_Layers.html">
            
                    
                    5.4 It's All About The Layers 核心思想就是分层
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="5.5_Where_To_Put_Stuff.html">
            
                <a href="5.5_Where_To_Put_Stuff.html">
            
                    
                    5.5 Where To Put "Stuff" 东西都放哪儿？
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    6 Applied Architecture: Decoupling Handles 实用做法：解耦处理函数
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="6.1_Introduction.html">
            
                <a href="6.1_Introduction.html">
            
                    
                    6.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="6.2_Decoupling_Handlers.html">
            
                <a href="6.2_Decoupling_Handlers.html">
            
                    
                    6.2 Decoupling Handlers 解耦处理函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="6.3_Other_Handlers.html">
            
                <a href="6.3_Other_Handlers.html">
            
                    
                    6.3 Other Handlers 其他处理函数
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    7 Extending The Framework 扩展框架
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="7.1_Introduction.html">
            
                <a href="7.1_Introduction.html">
            
                    
                    7.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="7.2_Managers_&_Factories.html">
            
                <a href="7.2_Managers_&_Factories.html">
            
                    
                    7.2 Managers & Factories 管理者和工厂
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="7.3_Cache.html">
            
                <a href="7.3_Cache.html">
            
                    
                    7.3 Cache 缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="7.4_Session.html">
            
                <a href="7.4_Session.html">
            
                    
                    7.4 Session 会话
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="7.5_Authentication.html">
            
                <a href="7.5_Authentication.html">
            
                    
                    7.5 Authentication 身份认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="7.6_IoC_Based_Extension.html">
            
                <a href="7.6_IoC_Based_Extension.html">
            
                    
                    7.6 IoC Based Extension 使用容器进行扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="7.7_Request_Extension.html">
            
                <a href="7.7_Request_Extension.html">
            
                    
                    7.7 Request Extension 请求的扩展
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    8 Single Responsibility Principle 单一职责原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="8.1_Introduction.html">
            
                <a href="8.1_Introduction.html">
            
                    
                    8.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="8.2_In_Action.html">
            
                <a href="8.2_In_Action.html">
            
                    
                    8.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    9 Open Closed Principle 开放封闭原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="9.1_Introduction.html">
            
                <a href="9.1_Introduction.html">
            
                    
                    9.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="9.2_In_Action.html">
            
                <a href="9.2_In_Action.html">
            
                    
                    9.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    10 Liskov Substitution Principle 里氏替换原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="10.1_Introduction.html">
            
                <a href="10.1_Introduction.html">
            
                    
                    10.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="10.2_In_Action.html">
            
                <a href="10.2_In_Action.html">
            
                    
                    10.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    11 Interface Segregation Principle 接口隔离原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="11.1_Introduction.html">
            
                <a href="11.1_Introduction.html">
            
                    
                    11.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="11.2_In_Action.html">
            
                <a href="11.2_In_Action.html">
            
                    
                    11.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    12 Dependency Inversion Principle 依赖反转原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="12.1_Introduction.html">
            
                <a href="12.1_Introduction.html">
            
                    
                    12.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="12.2_In_Action.html">
            
                <a href="12.2_In_Action.html">
            
                    
                    12.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >4.1 As Bootstrapper 他是引导程序</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="as-bootstrapper-&#x4ED6;&#x662F;&#x5F15;&#x5BFC;&#x7A0B;&#x5E8F;">As Bootstrapper &#x4ED6;&#x662F;&#x5F15;&#x5BFC;&#x7A0B;&#x5E8F;</h1>
<p>A Laravel service provider is a class that registers IoC container bindings. In fact, Laravel ships with over a dozen service providers that manage the container bindings for the core framework components. Almost every component of the framework is registered with the container via a provider. A list of the providers currently being used by your application can be found in the providers array within the app/config/app.php configuration file.</p>
<p>&#x4E00;&#x4E2A; Laravel &#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x8FDB;&#x884C; IoC &#x7ED1;&#x5B9A;&#x7684;&#x7C7B;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;Laravel &#x6709;&#x597D;&#x51E0;&#x5341;&#x4E2A;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#xFF0C;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x6846;&#x67B6;&#x6838;&#x5FC3;&#x7EC4;&#x4EF6;&#x7684;&#x5BB9;&#x5668;&#x7ED1;&#x5B9A;&#x3002;&#x51E0;&#x4E4E;&#x6846;&#x67B6;&#x91CC;&#x6BCF;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x7684; IoC &#x7ED1;&#x5B9A;&#x90FD;&#x662F;&#x9760;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x6765;&#x505A;&#x7684;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x5728; app/config/app.php &#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x91CC;&#x67E5;&#x770B;&#x76EE;&#x524D;&#x6709;&#x54EA;&#x4E9B;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x3002;</p>
<p>A service provider must have at least one method: register. The register method is where the provide binds classes to the container. When a request enters your application and the framework is booting up, the register method is called on the providers listed in your configuration file. This happens very early in the application life-cycle so that all of the Laravel services will be available to you when your own bootstrap files, such as those in the start directory, are loaded.</p>
<p>&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A; register &#x65B9;&#x6CD5;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x91CC;&#x5199; IoC &#x7ED1;&#x5B9A;&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x53D1;&#x8FC7;&#x6765;&#xFF0C;&#x7A0B;&#x5E8F;&#x6846;&#x67B6;&#x521A;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x5728;&#x4F60;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x7684;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x7684; register &#x65B9;&#x6CD5;&#x5C31;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x5728;&#x7A0B;&#x5E8F;&#x5468;&#x671F;&#x7684;&#x5F88;&#x65E9;&#x7684;&#x5730;&#x65B9;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x5F15;&#x5BFC;&#x4EE3;&#x7801;&#xFF08;&#x6BD4;&#x5982;&#x90A3;&#x4E9B;&#x5728; start &#x76EE;&#x5F55;&#x91CC;&#x7684;&#x6587;&#x4EF6;&#xFF09;&#x91CC;&#x6240;&#x6709;&#x7684;&#x670D;&#x52A1;&#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x597D;&#x4E86;&#x3002;</p>
<blockquote>
<h3 id="register-vs-boot-&#x6CE8;&#x518C;vs&#x5F15;&#x5BFC;&#x4EE3;&#x7801;">Register Vs. Boot &#x6CE8;&#x518C;Vs&#x5F15;&#x5BFC;&#x4EE3;&#x7801;</h3>
<p>Never attemp to use services in the register method. This method is only for binding objects into the IoC container. All resolutions and interaction with the bound classes must be done inside the boot method.</p>
<p>&#x6C38;&#x8FDC;&#x4E0D;&#x8981;&#x5728; register &#x65B9;&#x6CD5;&#x91CC;&#x9762;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x670D;&#x52A1;&#x3002;&#x8BE5;&#x65B9;&#x6CD5;&#x53EA;&#x662F;&#x7528;&#x6765;&#x8FDB;&#x884C; IoC &#x7ED1;&#x5B9A;&#x7684;&#x5730;&#x65B9;&#x3002;&#x6240;&#x6709;&#x5173;&#x4E8E;&#x7ED1;&#x5B9A;&#x7C7B;&#x540E;&#x7EED;&#x7684;&#x5224;&#x65AD;&#x3001;&#x4EA4;&#x4E92;&#x90FD;&#x8981;&#x5728; boot &#x65B9;&#x6CD5;&#x91CC;&#x8FDB;&#x884C;&#x3002;</p>
</blockquote>
<p>Some third-party packages you install via Composer will ship with a service provider. The package&apos;s installation instructions will typically tell you to register their provider with your application by adding it to the providers array in your configuration file. Once you&apos;ve registered the package&apos;s provider, it is ready for use.</p>
<p>&#x4F60;&#x7528; Composer &#x5B89;&#x88C5;&#x7684;&#x4E00;&#x4E9B;&#x7B2C;&#x4E09;&#x65B9;&#x5305;&#x4E5F;&#x4F1A;&#x6709;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x3002;&#x5728;&#x7B2C;&#x4E09;&#x65B9;&#x5305;&#x7684;&#x5B89;&#x88C5;&#x8BF4;&#x660E;&#x91CC;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#x8981;&#x5728; providers &#x6570;&#x7EC4;&#x91CC;&#x52A0;&#x4E0A;&#x4E00;&#x884C;&#x3002;&#x4E00;&#x65E6;&#x4F60;&#x52A0;&#x4E0A;&#x4E86;&#xFF0C;&#x90A3;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x5C31;&#x7B97;&#x5B89;&#x88C5;&#x597D;&#x4E86;&#x3002;</p>
<blockquote>
<h3 id="package-providers&#x5305;&#x63D0;&#x4F9B;&#x8005;">Package Providers&#x5305;&#x63D0;&#x4F9B;&#x8005;</h3>
<p>Not all third-party packages require a service provider. In fact, no package requires a service provider, as service providers generally just bootstrap components so they are ready for use immediately. They are simply a convenient place to organize bootstrap code and container bindings.</p>
<p>&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x5305;&#x90FD;&#x9700;&#x8981;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#x4E00;&#x4E2A;&#x5305;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x3002;&#x56E0;&#x4E3A;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x81EA;&#x52A8;&#x521D;&#x59CB;&#x5316;&#x670D;&#x52A1;&#x7EC4;&#x4EF6;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4E00;&#x4E2A;&#x65B9;&#x4FBF;&#x7BA1;&#x7406;&#x5F15;&#x5BFC;&#x4EE3;&#x7801;&#x548C;&#x5BB9;&#x5668;&#x7ED1;&#x5B9A;&#x7684;&#x5730;&#x65B9;&#x3002;</p>
</blockquote>
<h3 id="deferred-providers-&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x7684;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;">Deferred Providers &#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x7684;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;</h3>
<p>Not every provider that is listed in your providers configuration array will be instantiated on every request. This would be detrimental to performance, especially if the services the provider registers are not needed for the request. For example, the QueueServiceProvider services are not needed on every request, but only on requests where the queue is actually utilized.</p>
<p>&#x5E76;&#x975E;&#x5728;&#x4F60;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684; providers &#x6570;&#x7EC4;&#x91CC;&#x7684;&#x6240;&#x6709;&#x63D0;&#x4F9B;&#x8005;&#x5728;&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#x3002;&#x5426;&#x5219;&#x4F1A;&#x5BF9;&#x6027;&#x80FD;&#x4E0D;&#x5229;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x529F;&#x80FD;&#x7528;&#x4E0D;&#x5230;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x3002;&#x6BD4;&#x5982;&#xFF0C;QueueServiceProvider &#x670D;&#x52A1;&#x5C31;&#x4E0D;&#x662F;&#x6BCF;&#x6B21;&#x90FD;&#x7528;&#x5F97;&#x5230;&#x3002;</p>
<p>In order to only instantiate the providers that are needed for a given request, Laravel generates a &quot;service manifest&quot; that is stored in the app/storage/meta directory. This manifest lists all of the service providers for the application, as well as the names of the container bindings they register. So, when the application asks the container for the queue container binding, Laravel knows that it needs to instantiate and run the QueueServiceProvider because it is listed as providing the queue service in the manifest. This allows the framework to lazy-load service providers for each request, greatly increasing performance.</p>
<p>&#x4E3A;&#x4E86;&#x8FBE;&#x5230;&#x53EA;&#x5B9E;&#x4F8B;&#x5316;&#x9700;&#x8981;&#x7684;&#x670D;&#x52A1;&#x7684;&#x63D0;&#x4F9B;&#x8005;&#xFF0C;Laravel &#x751F;&#x6210;&#x4E86;&#x201C;&#x670D;&#x52A1;&#x6E05;&#x5355;&#x201D;&#x5E76;&#x4E14;&#x50A8;&#x5B58;&#x5728;&#x4E86; app/storage/meta &#x76EE;&#x5F55;&#x4E0B;&#x3002;&#x8FD9;&#x4EFD;&#x6E05;&#x5355;&#x5217;&#x51FA;&#x4E86;&#x5E94;&#x7528;&#x91CC;&#x6240;&#x6709;&#x7684;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#xFF0C;&#x5305;&#x62EC;&#x5BB9;&#x5668;&#x7ED1;&#x5B9A;&#x7684;&#x540D;&#x5B57;&#x4E5F;&#x8BB0;&#x5F55;&#x4E86;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5F53;&#x5E94;&#x7528;&#x60F3;&#x8BA9;&#x5BB9;&#x5668;&#x53D6;&#x51FA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; queue &#x7684;&#x7ED1;&#x5B9A;&#x65F6;&#xFF0C;Laravel &#x77E5;&#x9053;&#x9700;&#x8981;&#x5148;&#x5B9E;&#x4F8B;&#x5316;&#x5E76;&#x8FD0;&#x884C; QueueServiceProvider &#x56E0;&#x4E3A;&#x5728;&#x670D;&#x52A1;&#x6E05;&#x5355;&#x91CC;&#x8BB0;&#x5F55;&#x7740;&#x8BE5;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x80FD;&#x63D0;&#x4F9B; queue &#x7684;&#x7ED1;&#x5B9A;&#x3002;&#x5982;&#x6B64;&#x8FD9;&#x822C;&#x6846;&#x67B6;&#x5C31;&#x80FD;&#x591F;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x9700;&#x8981;&#x7684;&#x670D;&#x52A1;&#x4E86;&#xFF0C;&#x6027;&#x80FD;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x3002;</p>
<blockquote>
<h3 id="manifest-generation-&#x5982;&#x4F55;&#x751F;&#x6210;&#x670D;&#x52A1;&#x6E05;&#x5355;">Manifest Generation &#x5982;&#x4F55;&#x751F;&#x6210;&#x670D;&#x52A1;&#x6E05;&#x5355;</h3>
<p>When you add a service provider to the providers array, Laravel will automatically regenerate the service manifest file during the next request to the application.</p>
<p>&#x5F53;&#x4F60;&#x5728;providers&#x6570;&#x7EC4;&#x91CC;&#x65B0;&#x589E;&#x4E00;&#x6761;&#xFF0C;Laravel&#x5728;&#x4E0B;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x65F6;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x91CD;&#x65B0;&#x751F;&#x6210;&#x670D;&#x52A1;&#x6E05;&#x5355;&#x3002;</p>
</blockquote>
<p>As you have time, take a look through the service manifest so you are aware of its contents. Understanding how this file is structured will be helpful if you ever need a debug a deferred service provider.</p>
<p>&#x5982;&#x679C;&#x4F60;&#x6709;&#x65F6;&#x95F4;&#xFF0C;&#x53BB;&#x770B;&#x770B;&#x670D;&#x52A1;&#x6E05;&#x5355;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x7406;&#x89E3;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x7ED3;&#x6784;&#x6709;&#x52A9;&#x4E8E;&#x4F60;&#x5BF9;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x6392;&#x9519;&#x3002;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="4.2_As_Organizer.html" class="navigation navigation-next navigation-unique" aria-label="Next page: 4.2 As Organizer 作为管理工具">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"4.1 As Bootstrapper 他是引导程序","level":"1.6.1","depth":2,"next":{"title":"4.2 As Organizer 作为管理工具","level":"1.6.2","depth":2,"path":"chapters/4.2_As_Organizer.md","ref":"./chapters/4.2_As_Organizer.md","articles":[]},"previous":{"title":"4 Service Provider 服务提供者","level":"1.6","depth":1,"ref":"","articles":[{"title":"4.1 As Bootstrapper 他是引导程序","level":"1.6.1","depth":2,"path":"chapters/4.1_As_Bootstrapper.md","ref":"./chapters/4.1_As_Bootstrapper.md","articles":[]},{"title":"4.2 As Organizer 作为管理工具","level":"1.6.2","depth":2,"path":"chapters/4.2_As_Organizer.md","ref":"./chapters/4.2_As_Organizer.md","articles":[]},{"title":"4.3 Booting Providers 服务提供者的启动过程","level":"1.6.3","depth":2,"path":"chapters/4.3_Booting_Providers.md","ref":"./chapters/4.3_Booting_Providers.md","articles":[]},{"title":"4.4 Providing The Core 核心也是服务提供者的模式","level":"1.6.4","depth":2,"path":"chapters/4.4_Providing_The_Core.md","ref":"./chapters/4.4_Providing_The_Core.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"original Taylor Otwell, translate zgldh","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Laravel - 从百草园到三味书屋","language":"zh-hans","gitbook":"*"},"file":{"path":"chapters/4.1_As_Bootstrapper.md","mtime":"2019-01-07T14:12:06.749Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-01-07T16:06:05.085Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

