
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>1.1 The Problem 遇到的问题 · Laravel - 从百草园到三味书屋</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="original Taylor Otwell, translate zgldh">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="1.2_Build_A_Contract.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Author's_Note.html">
            
                <a href="Author's_Note.html">
            
                    
                    Author's Note 作者自序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    1 Dependency Injection 依赖注入
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1" data-path="1.1_The_Problem.html">
            
                <a href="1.1_The_Problem.html">
            
                    
                    1.1 The Problem 遇到的问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="1.2_Build_A_Contract.html">
            
                <a href="1.2_Build_A_Contract.html">
            
                    
                    1.2 Build A Contract 建立约定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="1.3_Take_It_further.html">
            
                <a href="1.3_Take_It_further.html">
            
                    
                    1.3 Take It further 更进一步
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="1.4_Too_Much_Java.html">
            
                <a href="1.4_Too_Much_Java.html">
            
                    
                    1.4 Too Much Java? 太像Java了？
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    2 The IoC Container 控制反转容器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="2.1_Basic_Binding.html">
            
                <a href="2.1_Basic_Binding.html">
            
                    
                    2.1 Basic Binding 基础绑定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="2.2_Reflective_Resolution.html">
            
                <a href="2.2_Reflective_Resolution.html">
            
                    
                    2.2 Reflective Resolution 反射解决方案
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    3 Interface As Contract 接口约定
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="3.1_Strong_Typing_&_Water_Fowl.html">
            
                <a href="3.1_Strong_Typing_&_Water_Fowl.html">
            
                    
                    3.1 Strong Typing & Water Fowl 强类型和小鸭子
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="3.2_A_Contract_Example.html">
            
                <a href="3.2_A_Contract_Example.html">
            
                    
                    3.2 A Contract Example 约定的范例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="3.3_Interface_&_Team_Development.html">
            
                <a href="3.3_Interface_&_Team_Development.html">
            
                    
                    3.3 Interface & Team Development 接口与团队开发
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    4 Service Provider 服务提供者
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="4.1_As_Bootstrapper.html">
            
                <a href="4.1_As_Bootstrapper.html">
            
                    
                    4.1 As Bootstrapper 他是引导程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="4.2_As_Organizer.html">
            
                <a href="4.2_As_Organizer.html">
            
                    
                    4.2 As Organizer 作为管理工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="4.3_Booting_Providers.html">
            
                <a href="4.3_Booting_Providers.html">
            
                    
                    4.3 Booting Providers 服务提供者的启动过程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="4.4_Providing_The_Core.html">
            
                <a href="4.4_Providing_The_Core.html">
            
                    
                    4.4 Providing The Core 核心也是服务提供者的模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    5 Application Structure 应用结构
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="5.1_Introduction.html">
            
                <a href="5.1_Introduction.html">
            
                    
                    5.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="5.2_MVC_Is_Killing_You.html">
            
                <a href="5.2_MVC_Is_Killing_You.html">
            
                    
                    5.2 MVC Is Killing You MVC是慢性谋杀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="5.3_Bye_Models.html">
            
                <a href="5.3_Bye_Models.html">
            
                    
                    5.3 Bye, Bye Models 再见，模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="5.4_It's_All_About_The_Layers.html">
            
                <a href="5.4_It's_All_About_The_Layers.html">
            
                    
                    5.4 It's All About The Layers 核心思想就是分层
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="5.5_Where_To_Put_Stuff.html">
            
                <a href="5.5_Where_To_Put_Stuff.html">
            
                    
                    5.5 Where To Put "Stuff" 东西都放哪儿？
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    6 Applied Architecture: Decoupling Handles 实用做法：解耦处理函数
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="6.1_Introduction.html">
            
                <a href="6.1_Introduction.html">
            
                    
                    6.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="6.2_Decoupling_Handlers.html">
            
                <a href="6.2_Decoupling_Handlers.html">
            
                    
                    6.2 Decoupling Handlers 解耦处理函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="6.3_Other_Handlers.html">
            
                <a href="6.3_Other_Handlers.html">
            
                    
                    6.3 Other Handlers 其他处理函数
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    7 Extending The Framework 扩展框架
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="7.1_Introduction.html">
            
                <a href="7.1_Introduction.html">
            
                    
                    7.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="7.2_Managers_&_Factories.html">
            
                <a href="7.2_Managers_&_Factories.html">
            
                    
                    7.2 Managers & Factories 管理者和工厂
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="7.3_Cache.html">
            
                <a href="7.3_Cache.html">
            
                    
                    7.3 Cache 缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="7.4_Session.html">
            
                <a href="7.4_Session.html">
            
                    
                    7.4 Session 会话
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="7.5_Authentication.html">
            
                <a href="7.5_Authentication.html">
            
                    
                    7.5 Authentication 身份认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="7.6_IoC_Based_Extension.html">
            
                <a href="7.6_IoC_Based_Extension.html">
            
                    
                    7.6 IoC Based Extension 使用容器进行扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="7.7_Request_Extension.html">
            
                <a href="7.7_Request_Extension.html">
            
                    
                    7.7 Request Extension 请求的扩展
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    8 Single Responsibility Principle 单一职责原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="8.1_Introduction.html">
            
                <a href="8.1_Introduction.html">
            
                    
                    8.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="8.2_In_Action.html">
            
                <a href="8.2_In_Action.html">
            
                    
                    8.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    9 Open Closed Principle 开放封闭原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="9.1_Introduction.html">
            
                <a href="9.1_Introduction.html">
            
                    
                    9.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="9.2_In_Action.html">
            
                <a href="9.2_In_Action.html">
            
                    
                    9.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    10 Liskov Substitution Principle 里氏替换原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="10.1_Introduction.html">
            
                <a href="10.1_Introduction.html">
            
                    
                    10.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="10.2_In_Action.html">
            
                <a href="10.2_In_Action.html">
            
                    
                    10.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    11 Interface Segregation Principle 接口隔离原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="11.1_Introduction.html">
            
                <a href="11.1_Introduction.html">
            
                    
                    11.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="11.2_In_Action.html">
            
                <a href="11.2_In_Action.html">
            
                    
                    11.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    12 Dependency Inversion Principle 依赖反转原则
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="12.1_Introduction.html">
            
                <a href="12.1_Introduction.html">
            
                    
                    12.1 Introduction 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="12.2_In_Action.html">
            
                <a href="12.2_In_Action.html">
            
                    
                    12.2 In Action 实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >1.1 The Problem 遇到的问题</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="the-problem-&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;">The Problem &#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;</h1>
<p>The foundation of the Laravel framework is its powerful IoC container. To truly understand the framework, a strong grasp of the container is necessary. However, we shold note that an IoC container is simply a convenience mechanism for achieving a software design pattern: dependency injectionl. A container is not necessary to perform dependency injection, it simply makes the task easier.</p>
<p>Laravel &#x6846;&#x67B6;&#x7684;&#x57FA;&#x7840;&#x662F;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;&#x63A7;&#x5236;&#x53CD;&#x8F6C;&#x5BB9;&#x5668;&#xFF08;IoC container&#xFF09;&#x3002; &#x4E3A;&#x4E86;&#x771F;&#x6B63;&#x7406;&#x89E3;&#x672C;&#x6846;&#x67B6;&#xFF0C;&#x9700;&#x8981;&#x597D;&#x597D;&#x638C;&#x63E1;&#x8BE5;&#x5BB9;&#x5668;&#x3002;&#x4F46;&#x6211;&#x4EEC;&#x8981;&#x641E;&#x6E05;&#x695A;&#xFF0C;&#x63A7;&#x5236;&#x53CD;&#x8F6C;&#x5BB9;&#x5668;&#x53EA;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x65B9;&#x4FBF;&#x5B9E;&#x73B0;&#x201C;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x201D;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x8981;&#x5B9E;&#x73B0;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x9700;&#x8981;&#x63A7;&#x5236;&#x53CD;&#x8F6C;&#x5BB9;&#x5668;&#xFF0C;&#x53EA;&#x662F;&#x7528;&#x5BB9;&#x5668;&#x4F1A;&#x66F4;&#x65B9;&#x4FBF;&#x548C;&#x5BB9;&#x6613;&#x4E00;&#x70B9;&#x513F;&#x3002;</p>
<p>First, let&apos;s explore why dependency injection is beneficial. Consider the following class and method:</p>
<p>&#x9996;&#x5148;&#x6765;&#x770B;&#x770B;&#x6211;&#x4EEC;&#x4E3A;&#x4F55;&#x8981;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF0C;&#x5B83;&#x80FD;&#x5E26;&#x6765;&#x4EC0;&#x4E48;&#x597D;&#x5904;&#x3002; &#x8003;&#x8651;&#x4E0B;&#x5217;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span></span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getIndex</span><span class="hljs-params">()</span>
    </span>{
        $users= User::all();
        <span class="hljs-keyword">return</span> View::make(<span class="hljs-string">&apos;users.index&apos;</span>, compact(<span class="hljs-string">&apos;users&apos;</span>));
    }
}
</code></pre>
<p>While this code is concise, we are unable to test it without hitting an actual database. In other words, the Eloquent ORM is tightly coupled to out controller. We have no way to use or test this controller without also using the entire Eloquent ORM, including hitting a live database. This code also violates a software design principle commonly called separation of concerns. Simple put: our controller knows too much. Controllers do not need to know where data comes from, but only how to access it. The controller doesn&apos;t need to know that the data is available in MySQL, but only that it is available somewhere.</p>
<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5F88;&#x7B80;&#x77ED;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x8981;&#x60F3;&#x6D4B;&#x8BD5;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x8BDD;&#x5C31;&#x4E00;&#x5B9A;&#x4F1A;&#x548C;&#x5B9E;&#x9645;&#x7684;&#x6570;&#x636E;&#x5E93;&#x53D1;&#x751F;&#x8054;&#x7CFB;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C; Eloquent ORM&#xFF08;&#x8BD1;&#x8005;&#x6CE8;&#xFF1A;Laravel &#x7684;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x5E93;&#xFF09;&#x548C;&#x8BE5;&#x63A7;&#x5236;&#x5668;&#x6709;&#x7740;&#x7D27;&#x8026;&#x5408;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528; Eloquent ORM&#xFF0C;&#x4E0D;&#x8FDE;&#x63A5;&#x5230;&#x5B9E;&#x9645;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x6CA1;&#x529E;&#x6CD5;&#x8FD0;&#x884C;&#x6216;&#x8005;&#x6D4B;&#x8BD5;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x3002;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x540C;&#x65F6;&#x4E5F;&#x8FDD;&#x80CC;&#x4E86;&#x201C;&#x5173;&#x6CE8;&#x5206;&#x79BB;&#x201D;&#x8FD9;&#x4E2A;&#x8F6F;&#x4EF6;&#x8BBE;&#x8BA1;&#x539F;&#x5219;&#x3002;&#x7B80;&#x5355;&#x8BB2;&#xFF1A;&#x8FD9;&#x4E2A;&#x63A7;&#x5236;&#x5668;&#x77E5;&#x9053;&#x7684;&#x592A;&#x591A;&#x4E86;&#x3002; &#x63A7;&#x5236;&#x5668;&#x4E0D;&#x9700;&#x8981;&#x53BB;&#x4E86;&#x89E3;&#x6570;&#x636E;&#x662F;&#x4ECE;&#x54EA;&#x513F;&#x6765;&#x7684;&#xFF0C;&#x53EA;&#x8981;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x8BBF;&#x95EE;&#x5C31;&#x884C;&#x3002;&#x63A7;&#x5236;&#x5668;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x8FD9;&#x6570;&#x636E;&#x662F;&#x4ECE; MySQL &#x6216;&#x54EA;&#x513F;&#x6765;&#x7684;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x77E5;&#x9053;&#x8FD9;&#x6570;&#x636E;&#x76EE;&#x524D;&#x662F;&#x53EF;&#x7528;&#x7684;&#x3002;</p>
<blockquote>
<h3 id="separation-of-concerns--&#x5173;&#x6CE8;&#x5206;&#x79BB;">Separation Of Concerns  &#x5173;&#x6CE8;&#x5206;&#x79BB;</h3>
<p>Every class should have a single responsibility, and that responsibility should be entirely encapsulated by the class.</p>
<p>&#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#x90FD;&#x5E94;&#x8BE5;&#x6709;&#x5355;&#x72EC;&#x7684;&#x804C;&#x8D23;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x804C;&#x8D23;&#x5E94;&#x5B8C;&#x5168;&#x88AB;&#x8FD9;&#x4E2A;&#x7C7B;&#x5C01;&#x88C5;&#x3002;&#xFF08;&#x8BD1;&#x8005;&#x6CE8;&#xFF1A;&#x6211;&#x8BA4;&#x4E3A;&#x5C31;&#x662F;&#x4E0D;&#x8981;&#x8BA9;&#x591A;&#x4E2A;&#x7C7B;&#x8D1F;&#x8D23;&#x540C;&#x6837;&#x7684;&#x804C;&#x8D23;&#xFF09;</p>
</blockquote>
<p>So, it will be beneficial for us to decouple our web layer (controller) from our data access layer completely. This will allow us to migrate storage implementations easily, as well as make our code easier to test. Think of the &quot;Web&quot; as just a transport layer into your &quot;real&quot; application.</p>
<p>&#x5173;&#x6CE8;&#x5206;&#x79BB;&#x7684;&#x597D;&#x5904;&#x5C31;&#x662F;&#x80FD;&#x8BA9; Web &#x63A7;&#x5236;&#x5668;&#x548C;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x89E3;&#x8026;&#x3002;&#x8FD9;&#x4F1A;&#x4F7F;&#x5F97;&#x5B9E;&#x73B0;&#x5B58;&#x50A8;&#x8FC1;&#x79FB;&#x66F4;&#x5BB9;&#x6613;&#xFF0C;&#x6D4B;&#x8BD5;&#x4E5F;&#x4F1A;&#x66F4;&#x5BB9;&#x6613;&#x3002;&#x201C;Web&#x201D; &#x5C31;&#x4EC5;&#x4EC5;&#x662F;&#x4E3A;&#x4F60;&#x771F;&#x6B63;&#x7684;&#x5E94;&#x7528;&#x505A;&#x6570;&#x636E;&#x7684;&#x4F20;&#x8F93;&#x4E86;&#x3002;</p>
<p>Imagine that your application is like a monitor with a variety of cable ports. You can access the monitor&apos;s functionality via HDMI, VGA, or DVI. Think of the Internet as just a cable into your application. The bulk of a monitor&apos;s functionality is independent of the cable. The cable is just a transport mechanism just like HTTP is a transport mechanism for your application. So, we don&apos;t want to clutter up our transport mechanism (the controller) with application logic. This will allow any transport layer, such as an API or mobile application, to access our application logic.</p>
<p>&#x60F3;&#x8C61;&#x4E00;&#x4E0B;&#x4F60;&#x6709;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x4E8E;&#x76D1;&#x89C6;&#x5668;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x6709;&#x7740;&#x5F88;&#x591A;&#x7EBF;&#x7F06;&#x63A5;&#x53E3;&#xFF08;HDMI&#xFF0C;VGA&#xFF0C;DVI&#x7B49;&#x7B49;&#xFF09;&#x3002; &#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x63A5;&#x53E3;&#x8BBF;&#x95EE;&#x4E0D;&#x540C;&#x7684;&#x76D1;&#x89C6;&#x5668;&#x3002;&#x628A; Internet &#x60F3;&#x8C61;&#x6210;&#x53E6;&#x4E00;&#x4E2A;&#x63D2;&#x8FDB;&#x4F60;&#x7A0B;&#x5E8F;&#x7EBF;&#x7F06;&#x63A5;&#x53E3;&#x3002;&#x5927;&#x90E8;&#x5206;&#x663E;&#x793A;&#x5668;&#x7684;&#x529F;&#x80FD;&#x662F;&#x4E0E;&#x7EBF;&#x7F06;&#x63A5;&#x53E3;&#x4E92;&#x76F8;&#x72EC;&#x7ACB;&#x7684;&#x3002;&#x7EBF;&#x7F06;&#x63A5;&#x53E3;&#x53EA;&#x662F;&#x4E00; &#x79CD;&#x4F20;&#x8F93;&#x673A;&#x5236;&#x5C31;&#x50CF; HTTP &#x662F;&#x4F60;&#x7A0B;&#x5E8F;&#x7684;&#x4E00;&#x79CD;&#x4F20;&#x8F93;&#x673A;&#x5236;&#x4E00;&#x6837;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E0D;&#x60F3;&#x628A;&#x4F20;&#x8F93;&#x673A;&#x5236;&#xFF08;&#x63A7;&#x5236;&#x5668;&#xFF09;&#x548C;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x6DF7;&#x5728;&#x4E00;&#x8D77;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x597D;&#x5904;&#x662F;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x7684;&#x4F20;&#x8F93;&#x673A;&#x5236;&#x6BD4;&#x5982; API &#x8C03;&#x7528;&#x3001;&#x79FB;&#x52A8;&#x5E94;&#x7528;&#x7B49;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x6211;&#x4EEC;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x3002;</p>
<p>So, instead of coupling our controller to the Eloquent ORM, let&apos;s inject a repository class.</p>
<p>&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x522B;&#x518D;&#x5C06;&#x63A7;&#x5236;&#x5668;&#x548C; Eloquent ORM &#x8026;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x4E86;&#x3002; &#x54B1;&#x4EEC;&#x6CE8;&#x5165;&#x4E00;&#x4E2A;&#x8D44;&#x6599;&#x5E93;&#x7C7B;&#x3002;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="1.2_Build_A_Contract.html" class="navigation navigation-next navigation-unique" aria-label="Next page: 1.2 Build A Contract 建立约定">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"1.1 The Problem 遇到的问题","level":"1.3.1","depth":2,"next":{"title":"1.2 Build A Contract 建立约定","level":"1.3.2","depth":2,"path":"chapters/1.2_Build_A_Contract.md","ref":"./chapters/1.2_Build_A_Contract.md","articles":[]},"previous":{"title":"1 Dependency Injection 依赖注入","level":"1.3","depth":1,"ref":"","articles":[{"title":"1.1 The Problem 遇到的问题","level":"1.3.1","depth":2,"path":"chapters/1.1_The_Problem.md","ref":"./chapters/1.1_The_Problem.md","articles":[]},{"title":"1.2 Build A Contract 建立约定","level":"1.3.2","depth":2,"path":"chapters/1.2_Build_A_Contract.md","ref":"./chapters/1.2_Build_A_Contract.md","articles":[]},{"title":"1.3 Take It further 更进一步","level":"1.3.3","depth":2,"path":"chapters/1.3_Take_It_further.md","ref":"./chapters/1.3_Take_It_further.md","articles":[]},{"title":"1.4 Too Much Java? 太像Java了？","level":"1.3.4","depth":2,"path":"chapters/1.4_Too_Much_Java.md","ref":"./chapters/1.4_Too_Much_Java.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"original Taylor Otwell, translate zgldh","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Laravel - 从百草园到三味书屋","language":"zh-hans","gitbook":"*"},"file":{"path":"chapters/1.1_The_Problem.md","mtime":"2019-01-07T14:17:57.796Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-01-07T16:06:05.085Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

